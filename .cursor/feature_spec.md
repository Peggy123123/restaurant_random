## 功能列表

# 專案名稱：台北捷運隨機美食小工具 (台北捷運隨機美食大富翁 App)
**版本**：MVP v1.0（手機版）  
**主要目的**：幫助上班族解決「每天不知道要吃什麼」的困擾，以捷運站為核心，結合遊戲化收藏機制。  
**導覽方式**：Bottom Navigation Bar（4 個主要頁面）

---

## 📱 頁面總覽
| 頁面名稱 | 功能簡述 |
|-----------|-----------|
| 1️⃣ 隨機推薦美食頁（首頁） | 根據定位或手動選站，隨機推薦餐廳 |
| 2️⃣ Google 地圖頁 | 查看地圖範圍內餐廳清單 |
| 3️⃣ 大富翁地圖頁 | Q 版台北捷運地圖，顯示已吃過／收藏狀況 |
| 4️⃣ 收藏頁 | 瀏覽與管理收藏與已吃過餐廳 |

---

## 1️⃣ 隨機推薦美食頁（首頁）

### 功能流程
1. **定位要求**
   - 進入頁面時要求使用者提供定位。
   - 若提供定位 → 自動偵測最近捷運站。
   - 若未提供定位 → 手動選擇捷運站。

2. **手動選站 UI**
   - 先選擇「線別」（紅線、藍線、綠線…）。
   - 再選擇「站點」，以 **X 軸滑動選擇捷運站**。

3. **進階條件篩選（彈窗）**
   - 點擊「進階條件篩選」Text Button 開啟彈窗。
   - 彈窗內可設定：
     - 預算（進度條）
     - 距離捷運站範圍（Radio）
     - 餐廳類型（美式、日式、韓式…，Button 選擇）
     - Google 星等（進度條）
     - 從「已吃過」中選擇（Button）
     - 從「收藏」中選擇（Button）
   - 下方按鈕：「取消」 / 「確定」

4. **隨機推薦機制**
   - 頁面下方有醒目的「🎲 隨機推薦」按鈕。
   - 點擊後：
     - 頂部顯示動畫方格（大富翁風格角色前進一格）。
     - 動畫停在某格顯示「站名」。
     - 下方出現餐廳卡片。

5. **餐廳卡片資訊**
   - 餐廳名稱  
   - Google 評分  
   - 價位符號（$～$$$）  
   - 距離資訊  
   - 右上角三個按鈕：
     - ❤️ 收藏
     - ✅ 已吃過
     - 🚫 沒興趣

6. **按鈕邏輯**
   - 收藏：加入「收藏頁 → 已收藏 tab」
   - 已吃過：加入「收藏頁 → 已吃過 tab」
   - 沒興趣：該餐廳放入「推薦排序最後」
     - 若使用者多次按「重新隨機推薦」直到無新餐廳，才重新顯示沒興趣的餐廳。

7. **重新推薦**
   - 下方有「重新隨機推薦」按鈕，點擊後重新隨機推薦餐廳。
---

## 2️⃣ Google 地圖頁

### 介面結構
- 上方約佔螢幕 **1/3 高度**：Google Map  
- 下方：餐廳清單（依地圖範圍動態更新）

### 餐廳卡片內容
- 名稱  
- Google 評分  
- 價位符號（$～$$$）  
- 距離資訊  
- 右上角按鈕：
  - ❤️ 收藏
  - ✅ 已吃過
  - 🚫 沒興趣

（按鈕邏輯與首頁相同）

---

## 3️⃣ 大富翁地圖頁

### 地圖設計
- Q 版風格的「台北捷運地圖」
- 每個捷運站為一個「空心圓圈」格子

### 功能邏輯
- **亮起邏輯（已吃過）**
  - 若使用者已吃過某站附近餐廳 → 該站點亮起
  - 中間出現餐廳 icon
  - 顯示「餐廳 +1」字樣
  - 若吃過多間 → 數字累加（+2、+3…）

- **收藏標記**
  - 若某站有收藏餐廳 → 該站顯示半透明顏色（opacity 50%）
  - 中間出現收藏 icon

- **成就機制**
  - 若一整條捷運線都亮起 → 獲得頭銜
  - 例：
    - 藍線全亮 → 「藍線美食家」
    - 紅線全亮 → 「信義線饕客」
  - 可同時擁有多個頭銜

- **頭銜顯示**
  - 顯示於使用者頭像上方（或設定頁）

---

## 4️⃣ 收藏頁

### 介面結構
- 上方兩個 tab：
  - 「已收藏」
  - 「已吃過」

### 餐廳卡片內容(同首頁餐廳卡片)
- 餐廳名稱  
- 評分、價位、距離  
- 右上角按鈕：
  - ❌ 取消收藏
  - ❌ 取消已吃過
- 點擊取消後，該項目從列表移除

---

## ⚙️ 設定頁（右上角 icon 進入）

### 內容項目
- 使用者頭像  
- 使用者名稱  
- 頭銜列表（由大富翁地圖頁獲得）
- （可預留未來功能：通知設定 / 登出 / 切換主題色）

---

## 🧩 開發重點建議（MVP 優先順序）

| 優先級 | 功能 | 備註 |
|---------|------|------|
| ⭐⭐⭐ | 隨機推薦（定位 + 選站 + 餐廳卡片） | 核心功能 |
| ⭐⭐ | 收藏與已吃過系統 | 與資料庫整合 |
| ⭐ | 大富翁地圖（基本亮起機制） | 可先靜態化 |
| ⭐ | Google 地圖頁 | 可先嵌入 iframe |
| ⭐ | 成就系統（頭銜） | 第二階段再開發 |

---

## 🎨 視覺風格建議
- 視覺版型參考：https://mobbin.com/apps/saturn-calendar-ios-afd199d6-463d-44ee-972a-1f59568ae67c/8e94a8c0-a139-46aa-a130-f21d0dcf1d61/screens
- 介面風格：清爽、Q 版、輕遊戲感、漸層  
- 主色：背景淺藍色 + 深色文字顏色 + logo標題(#CE0000)
- Icon 風格：圓潤、線性(使用font awesome,google icon , bootstrap icon)
- 動畫重點：骰餐廳動畫（角色跳格）與地圖亮起特效  

---

## 🗃️ 資料儲存建議（簡易資料表）

| 資料表 | 欄位 | 說明 |
|--------|------|------|
| users | id, name, avatar, title[] | 使用者資料 |
| restaurants | id, name, rating, price, distance, station_id | 餐廳基本資料 |
| stations | id, name, line, location | 捷運站資料 |
| favorites | user_id, restaurant_id | 收藏紀錄 |
| visited | user_id, restaurant_id | 已吃過紀錄 |
| dislikes | user_id, restaurant_id | 不喜歡紀錄 |

## 🧠 資料來源設計（v1.0 模擬）

### 實際目標
未來版本將串接 **Google Places API**，取得捷運站附近餐廳資料（包含名稱、評價、價位、類型、距離）。

### v1.0 模擬策略
先以 **JSON 假資料** 模擬 Google 回傳格式，用於前端開發與測試。

### 📘 假資料格式範例

```json
[
  {
    "place_id": "ChIJN1t_tDeuEmsRUsoyG83frY4",
    "name": "一蘭拉麵 信義店",
    "rating": 4.3,
    "user_ratings_total": 2589,
    "price_level": 2,
    "types": ["restaurant", "japanese"],
    "vicinity": "台北市信義區松壽路 11 號",
    "geometry": {
      "location": { "lat": 25.0336, "lng": 121.5646 }
    },
    "distance_m": 280,
    "station": {
      "name": "象山站",
      "line": "紅線"
    },
    "photos": [
      {
        "photo_reference": "CnRnAAAA1...",
        "width": 800,
        "height": 600,
        "html_attributions": ["一蘭拉麵 提供"]
      }
    ]
  },
  {
    "place_id": "ChIJDZ_c4zSrQjQRLq5G4_uwqgo",
    "name": "美式炸雞工坊",
    "rating": 4.1,
    "user_ratings_total": 790,
    "price_level": 1,
    "types": ["restaurant", "american"],
    "vicinity": "台北市中山區南京東路三段 25 號",
    "geometry": {
      "location": { "lat": 25.0525, "lng": 121.5332 }
    },
    "distance_m": 180,
    "station": {
      "name": "南京復興站",
      "line": "綠線"
    },
    "photos": []
  }
]

| 欄位                 | 類型       | 說明                               |
| ------------------ | -------- | -------------------------------- |
| place_id           | string   | 模擬 Google 店家唯一 ID                |
| name               | string   | 餐廳名稱                             |
| rating             | number   | Google 星級（1.0–5.0）               |
| user_ratings_total | number   | 總評論數                             |
| price_level        | number   | 價位等級（0–4）                        |
| types              | string[] | 類型（如 restaurant, cafe, japanese） |
| vicinity           | string   | 地址或地標簡述                          |
| geometry.location  | object   | 經緯度座標                            |
| distance_m         | number   | 與站點距離（單位：公尺）                     |
| station.name       | string   | 所屬捷運站                            |
| station.line       | string   | 所屬捷運線                            |
| photos             | object[] | 模擬圖片資料，可空陣列                      |


為了測試完整流程，v1.0 可先包含以下 5 個站點的假資料：
| 線別  | 站名    | 餐廳數量（建議） |
| --- | ----- | -------- |
| 紅線  | 象山站   | 5–8 間    |
| 藍線  | 國父紀念館站  | 5–8 間    |
| 藍線  | 市政府站  | 5–8 間    |
| 綠線  | 南京復興站 | 5–8 間    |

開發測試建議

可以在「隨機推薦」頁按鈕事件中，先隨機從 restaurants.json 抽一筆。
「已吃過」「收藏」「沒興趣」狀態可存在 localStorage，無需後端。
若要模擬距離與評分排序，可先用亂數生成。


---

### 📂 假資料檔案


---

## 🚀 延伸構想（未來版本）
- 「好友排行榜」：比誰吃遍更多站  
- 「夥伴養成」：角色隨吃遍餐廳升級  
- 「餐廳回饋」：加入打卡評論功能  
- 「成就徽章」：例如「咖啡控」、「燒肉達人」

---
